/* ==========================================================================
   Storm • Game Page (aval-jogo.html) • styles-jogo.css
   Paleta: #192230 (bg) | #2c2f38 (panel) | #3d474e (panel-2) | #ffcd00 (accent)
   ========================================================================== */

/* ----------------------------- Tokens / Tema ----------------------------- */
:root{
  --bg: #192230;
  --panel: #2c2f38;
  --panel-2: #3d474e;
  --ink: #e9edf4;
  --muted: #b7c0cc;
  --stroke: #3a4250;

  --accent: #ffcd00;
  --accent-ink: #141821;

  --radius: 14px;
  --radius-lg: 20px;

  --shadow-1: 0 10px 28px rgba(0,0,0,.35);
  --shadow-2: 0 18px 60px rgba(0,0,0,.45);

  --sidebar-w-compact: 96px;
  --sidebar-w-expanded: 280px;

  color-scheme: dark;
}

html[data-theme="light"]{
  --bg: #f5f7fa;
  --panel: #ffffff;
  --panel-2: #edf1f5;
  --ink: #0f1520;
  --muted: #566178;
  --stroke: #d5dde7;

  --accent: #ffcd00;
  --accent-ink: #0f1520;

  color-scheme: light;
}

/* ----------------------------- Reset básico ------------------------------ */
*,
*::before,
*::after{ box-sizing: border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font: 500 15px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell;
  background: var(--bg);
  color: var(--ink);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
img{ display:block; max-width:100%; height:auto; }
a{ color: inherit; text-decoration: none; }
button{ font:inherit; color:inherit; cursor:pointer; background:transparent; border:0; }
.sr-only{ position:absolute !important; width:1px; height:1px; margin:-1px; overflow:hidden; clip:rect(0 0 0 0); white-space:nowrap; }

/* =============================== Layout App ============================== */
.app{
  min-height:100dvh;
  display:grid;
  grid-template-columns:auto 1fr;
  gap:24px;
  padding:24px;
}

/* =============================== Sidebar ================================= */
.sidebar{
  position:sticky; top:24px; height:calc(100dvh - 48px);
  width:var(--sidebar-w-compact);
  background:var(--panel);
  border:1px solid var(--stroke);
  border-radius:var(--radius-lg);
  box-shadow:var(--shadow-1);
  display:flex; flex-direction:column; overflow:hidden;
  transition:width .25s ease;
}
.sidebar.expanded{ width:var(--sidebar-w-expanded); }
.sidebar.compact .label{ display:none; }

.brand{ display:flex; align-items:center; gap:12px; padding:14px 12px 10px; }
.brand__avatar{
  width:44px; height:44px; border-radius:999px; display:grid; place-items:center;
  color:var(--accent); border:2px solid var(--accent);
  background: color-mix(in oklab, var(--panel-2) 60%, transparent);
  overflow:hidden;
}
.brand__avatar img{ width:100%; height:100%; object-fit:cover; }
.brand__avatar-fallback{ width:28px; height:28px; color:var(--accent); }
.brand__title{ font-weight:900; letter-spacing:.2px; color:var(--accent); }

.btn{ border-radius:12px; transition:transform .06s, background .2s, color .2s, border-color .2s; }
.btn:active{ transform: translateY(1px); }
.btn--icon{ width:42px; height:36px; display:grid; place-items:center; color:var(--muted); border:1px solid transparent; }
.btn--icon:hover{ color:var(--accent); border-color:var(--stroke); background:var(--panel-2); }

.nav{ flex:1; overflow:auto; padding:6px 8px 10px; }
.nav__group{ padding:8px 4px; }
.nav__heading{ font-size:11px; letter-spacing:.12em; text-transform:uppercase; color:var(--muted); margin:8px 12px; }
.nav__item{
  display:flex; align-items:center; gap:14px;
  color:#cfd6df; border-radius:12px;
  padding:12px 14px; margin:5px 6px; font-weight:800;
  border:1px solid transparent; background:transparent;
}
.nav__item:hover{ background:var(--panel-2); color:var(--accent); border-color:var(--stroke); }
.nav__item.active{ background:var(--panel-2); color:var(--accent); border-color:var(--stroke); position:relative; }
.nav__item.active::before{ content:""; position:absolute; left:0; top:8px; bottom:8px; width:4px; background:var(--accent); border-radius:0 6px 6px 0; }
.nav__icon{ width:24px; height:24px; display:grid; place-items:center; }
.nav__icon svg{ width:100%; height:100%; }
.nav__icon svg *{ fill:currentColor; }

.sidebar__bottom{ padding:12px 12px 16px; border-top:1px solid var(--stroke); }
.switch{ display:inline-flex; align-items:center; gap:10px; color:var(--muted); cursor:pointer; }
.switch input{ display:none; }
.switch__track{ width:46px; height:26px; border-radius:26px; background:var(--panel-2); border:1px solid var(--stroke); position:relative; }
.switch__thumb{ position:absolute; top:50%; left:3px; transform:translateY(-50%); width:20px; height:20px; border-radius:50%; background:#fff; transition:left .2s; }
.switch input:checked + .switch__track{ background:var(--accent); border-color:var(--accent); }
.switch input:checked + .switch__track .switch__thumb{ left:23px; }

/* =============================== Botões base ============================= */
.btn{ padding:12px 18px; border:1px solid var(--stroke); background:var(--panel); color:var(--ink); font-weight:800; }
.btn--ghost{ background:var(--panel-2); }
.btn--primary{
  background:var(--accent); color:var(--accent-ink);
  border-color: color-mix(in oklab, var(--accent) 60%, var(--stroke));
  box-shadow: 0 10px 22px color-mix(in oklab, var(--accent) 28%, transparent);
}
.btn--danger{ background:#e5484d; color:#fff; border-color:#b02b30; box-shadow:0 10px 22px rgba(229,72,77,.25); }
.btn--tiny{ padding:8px 12px; border-radius:10px; font-size:13px; }

/* =============================== HERO ==================================== */
.game{ min-width:0; display:grid; gap:24px; }

.hero{
  position:relative;
  background: var(--panel);
  border:1px solid var(--stroke);
  border-radius: 22px;
  overflow: hidden;
  box-shadow: var(--shadow-2);
}

.hero__backdrop{
  position:relative; aspect-ratio: 16/6; overflow:hidden;
  background: #111;
}
.hero__backdrop img{
  width:100%; height:100%; object-fit:cover; filter: saturate(1.05) contrast(.98);
}
.hero__play{
  position:absolute; inset:0; margin:auto; width:88px; height:88px;
  display:grid; place-items:center; color:#fff; opacity:.92;
  background: rgba(0,0,0,.35); backdrop-filter: blur(2px);
  border-radius:999px; border:2px solid rgba(255,255,255,.65);
  transition: transform .12s ease, filter .2s ease, background .2s ease;
}
.hero__play:hover{ transform: scale(1.04); background: rgba(0,0,0,.45); }

.poster{
  position:absolute; left: clamp(16px, 4vw, 48px); top: clamp(40%, 44%, 48%);
  transform: translateY(-30%);
  width: min(220px, 36vw);
  aspect-ratio: 2/3; border-radius: 14px; overflow: hidden;
  box-shadow: 0 16px 40px rgba(0,0,0,.55);
  border: 1px solid var(--stroke);
}
.poster img{ width:100%; height:100%; object-fit:cover; }

/* meta bloco */
.meta{
  display:grid; gap:12px;
  padding: 16px clamp(16px, 4vw, 28px) 20px;
  padding-left: clamp(16px, calc(48px + 36vw), 360px); /* desloca por causa do poster */
}
.title{
  margin:6px 0 2px; font-size: clamp(22px, 3.2vw, 34px); font-weight: 900; letter-spacing:.2px;
}
.facts{ display:flex; flex-wrap:wrap; gap:10px 18px; list-style:none; margin:0; padding:0; color:var(--muted); font-weight:700; }
.facts strong{ color:var(--ink); font-weight:900; }
.platforms .pf{ width:22px; height:22px; display:inline-grid; place-items:center; color:var(--ink); opacity:.9; }
.platforms .pf svg{ width:100%; height:100%; }
.desc{ color: var(--ink); max-width: 85ch; }

.rating{ display:flex; align-items:center; flex-wrap:wrap; gap:12px 18px; margin-top:2px; }
.rating__avg{ color: var(--accent); font-weight: 900; font-size: 18px; }
.rating__avg b{ font-size: 22px; }
.rating__count{ color: var(--muted); font-weight: 700; }

/* =============================== Seções ================================== */
.section{
  background: var(--panel);
  border: 1px solid var(--stroke);
  border-radius: 18px;
  box-shadow: var(--shadow-1);
  padding: 14px;
}
.section__header{
  display:flex; align-items:center; justify-content:space-between;
  margin-bottom: 10px;
}
.section__header h2{
  margin:0; font-size: clamp(18px,2.2vw,22px); font-weight:900; letter-spacing:.2px;
}
.section__controls{ display:flex; gap:6px; }

/* =============================== Galeria ================================= */
.gallery__grid{
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  gap: 10px;
}
.gallery__item{
  border-radius: 12px; overflow: hidden;
  border: 1px solid var(--stroke);
  background: var(--panel-2);
  transition: transform .12s ease, box-shadow .2s ease, border-color .2s;
}
.gallery__item img{ width:100%; height:120px; object-fit:cover; display:block; }
.gallery__item:hover{
  transform: translateY(-2px);
  box-shadow: 0 16px 32px rgba(0,0,0,.4);
  border-color: color-mix(in oklab, var(--accent) 50%, var(--stroke));
}

/* =============================== Lightbox ================================ */
.lightbox{
  position: fixed; inset: 0; z-index: 50;
  display: grid; grid-template-columns: 1fr; place-items: center;
  background: rgba(0,0,0,.65);
  backdrop-filter: blur(2px);
}
.lightbox[hidden]{ display:none; }
.lightbox__figure{ max-width: 92vw; max-height: 88vh; display:grid; place-items:center; }
.lightbox__figure img{ max-width:100%; max-height:100%; border-radius: 12px; box-shadow: 0 18px 60px rgba(0,0,0,.6); }
.lightbox__close{
  position:absolute; top:18px; right:18px; width:42px; height:42px;
  background: rgba(0,0,0,.5); color:#fff; border-radius:10px; border:1px solid rgba(255,255,255,.25);
  font-size: 20px; line-height: 1;
}
.lightbox__nav{
  position:absolute; top:50%; transform:translateY(-50%);
  width:48px; height:48px; border-radius:12px;
  background: rgba(0,0,0,.45); color:#fff; border:1px solid rgba(255,255,255,.25);
  font-size: 26px;
}
.lightbox__nav.prev{ left:18px; }
.lightbox__nav.next{ right:18px; }

/* ============================ Avaliações/Reviews ========================= */
.reviews__header .filters{ color: var(--muted); font-weight:700; }
.reviews__header select{
  margin-left:6px; padding:8px 10px; border-radius:10px;
  border:1px solid var(--stroke); background: var(--panel-2); color: var(--ink);
}

.newreview{ display:grid; gap:8px; padding: 8px; border:1px dashed var(--stroke); border-radius: 12px; background: var(--panel-2); }
.stars{ display:flex; gap:2px; }
.star{
  width:28px; height:28px; display:grid; place-items:center; border-radius:6px;
  color: #8b93a3; transition: transform .06s, color .2s, background .2s;
}
.star svg{ width:20px; height:20px; }
.star:hover{ transform: translateY(-1px); color: var(--accent); }
.star.is-on{ color: var(--accent); }
.newreview textarea{
  width:100%; resize:vertical; min-height:80px;
  border:1px solid var(--stroke); border-radius:12px; background: var(--panel); color: var(--ink);
  padding:10px 12px;
}
.newreview__actions{ display:flex; gap:8px; justify-content:flex-end; }

.reviews__list{ display:grid; gap:12px; }

.review{
  border:1px solid var(--stroke); border-radius:14px; background: var(--panel);
  padding:12px; display:grid; gap:8px; transition: transform .12s ease, box-shadow .2s ease, border-color .2s ease;
}
.review:hover{ transform: translateY(-2px); box-shadow:0 18px 40px rgba(0,0,0,.45); border-color: color-mix(in oklab, var(--accent) 45%, var(--stroke)); }
.review__header{ display:flex; justify-content:space-between; align-items:center; gap:12px; }
.review__user{ display:flex; align-items:center; gap:10px; }
.review__avatar{ width:42px; height:42px; border-radius:999px; object-fit:cover; border:2px solid var(--panel-2); }
.review__name{ font-weight:900; }
.review__date{ color: var(--muted); font-weight:700; }
.review__score{ color: var(--accent); font-weight:900; }
.review__text{ margin: 2px 0 4px; color: var(--ink); }
.review__actions{ display:flex; gap:8px; flex-wrap:wrap; }

/* =============================== Relacionados ============================ */
.rail{
  display:flex; gap:12px; overflow:auto; scroll-behavior:smooth; padding-bottom: 2px;
}
.card{
  min-width: 160px; max-width: 180px;
  background: var(--panel);
  border:1px solid var(--stroke);
  border-radius: 14px; overflow: hidden;
  transition: transform .12s ease, box-shadow .2s ease, border-color .2s;
}
.card:hover{ transform: translateY(-2px); border-color: color-mix(in oklab, var(--accent) 50%, var(--stroke)); box-shadow: 0 16px 32px rgba(0,0,0,.4); }
.card__media{ aspect-ratio: 2/3; overflow:hidden; background: var(--panel-2); }
.card__img{ width:100%; height:100%; object-fit:cover; }
.card__body{ display:grid; gap:4px; padding:8px 10px; }
.card__title{ font-weight:900; font-size:14px; }
.card__score{ color: var(--accent); font-weight:900; }

/* ============================== Foco A11y ================================ */
:focus-visible{
  outline:2px solid var(--accent);
  outline-offset:2px; border-radius:10px;
}

/* ============================== Responsivo =============================== */
@media (max-width: 1100px){
  .poster{ width:min(180px, 34vw); }
  .meta{ padding-left: clamp(16px, calc(36px + 32vw), 320px); }
}
@media (max-width: 900px){
  .app{ grid-template-columns: 1fr; gap:16px; padding:16px; }
  .sidebar{ position: fixed; inset: 16px auto 16px 16px; height: auto; z-index: 20; }
  .poster{ position:relative; left:auto; top:auto; transform:none; width: 160px; margin: -64px 0 8px 16px; }
  .meta{ padding-left: 16px; }
  .hero__backdrop{ aspect-ratio: 16/9; }
}
@media (max-width: 560px){
  .poster{ width: 140px; margin: -56px 0 6px 12px; }
  .facts{ gap:8px 12px; }
  .gallery__grid{ grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); }
}

/* ------------------------------ Print clean ----------------------------- */
@media print{
  .sidebar, .hero__play, .section__controls{ display:none !important; }
  .app{ padding:0; grid-template-columns: 1fr; }
  .hero{ box-shadow:none; border:1px solid #bbb; }
  :root, html[data-theme="dark"], html[data-theme="light"]{
    --bg:#fff; --panel:#fff; --panel-2:#fff; --ink:#000; --muted:#444; --stroke:#bbb; --accent:#000; --accent-ink:#fff;
  }
}
